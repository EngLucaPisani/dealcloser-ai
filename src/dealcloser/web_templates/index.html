<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>DealCloser – Generate Outreach</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <style>
      body{font-family:system-ui,Arial,sans-serif;max-width:900px;margin:40px auto;padding:0 16px;}
      h1{margin-bottom:8px}
      form{display:grid;gap:12px;margin-top:16px}
      label{font-weight:600}
      input,select,textarea{padding:10px;border:1px solid #ddd;border-radius:8px;font-size:14px}
      .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
      .hint{font-size:12px;color:#666}
      .checkbox{display:flex;align-items:center;gap:8px}
      button{padding:12px 16px;border:0;border-radius:10px;background:#111;color:#fff;font-weight:700;cursor:pointer}
      button:hover{opacity:.9}
      .card{padding:16px;border:1px solid #eee;border-radius:12px;background:#fafafa}
    </style>
  </head>
  <body>
    <h1>DealCloser – Generate Outreach</h1>
    <p class="hint">Fill the form, click Generate, then preview your message. You can come back and create another.</p>

    <form method="post" action="{{ url_for('generate_view') }}">
      <div class="row">
        <div>
          <label for="channel">Channel</label>
          <select id="channel" name="channel">
            {% for ch in channels %}
              <option value="{{ ch }}">{{ ch|capitalize }}</option>
            {% endfor %}
          </select>
        </div>
        <div>
          <label for="name">Recipient name</label>
          <input id="name" name="name" placeholder="e.g., Taylor"/>
        </div>
      </div>

      <div class="row">
        <div>
          <label for="offer">Offer</label>
          <input id="offer" name="offer" placeholder="e.g., AI outreach assistant"/>
        </div>
        <div>
          <label for="benefits">Benefits (comma-separated)</label>
          <input id="benefits" name="benefits" placeholder="save time, higher replies, personalization"/>
        </div>
      </div>

      <div class="card">
        <label for="pain_points">Pain points (comma-separated)</label>
        <textarea id="pain_points" name="pain_points" rows="3" placeholder="low reply rates, manual personalization, slow pipeline"></textarea>
        <p class="hint">Tip: separate entries with commas.</p>
      </div>

      <div class="card">
        <div class="checkbox">
          <input type="checkbox" id="use_llm" name="use_llm"/>
          <label for="use_llm">Refine with AI</label>
        </div>
        <div class="row">
          <div>
            <label for="model">Model</label>
            <input id="model" name="model" value="gpt-4o-mini"/>
          </div>
          <div>
            <label for="temperature">Temperature</label>
            <input id="temperature" name="temperature" type="number" step="0.1" min="0" max="1" value="0.7"/>
          </div>
        </div>
        <p class="hint">AI uses your local <code>.env</code> OPENAI_API_KEY. Leave unchecked to generate offline.</p>
      </div>

      <button type="submit">Generate</button>
    </form>
  </body>
</html>
